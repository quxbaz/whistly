<!DOCTYPE html>

<html>

<head>

  <title>List</title>

  <link rel="stylesheet/less" href="/static/lib/normalize/normalize.css" type="text/css" />
  {# <link rel="stylesheet" href="/static/lib/bootstrap/dist/css/bootstrap.css" type="text/css" media="screen" /> #}

  {# {% assets "style" %}
    <link rel="stylesheet" href="{{ASSET_URL}}" type="text/css" />
  {% endassets %} #}

  <link rel="stylesheet/less" href="/static/less/style.less" type="text/css" />
  <script src="/static/lib/less/dist/less-1.7.0.min.js" type="text/javascript"></script>

</head>

<body>

  {% raw %}

    <script type="text/x-handlebars" data-template-name="application">
      {{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="workspace">
      {{#each}}
        {{render "list" this}}
        {{!outlet "list"}}
      {{/each}}
      {{render "add-list"}}
    </script>

    <script type="text/x-handlebars" data-template-name="add-list">
      {{#unless isAddingNewList}}
        <a {{action "addNewList"}}>Add a list...</a>
      {{else}}
        <form {{action "saveNewList" on="submit"}}>
          {{focus-input value=title placeholder="Title"}}
          <button {{action "cancel"}} type="button">Cancel</button>
          <button type="submit">Save</button>
        </form>
      {{/unless}}
    </script>

    <script type="text/x-handlebars" data-template-name="list">
      <header>{{title}}</header>
      {{#each notes}}
        {{render "note" this}}
      {{/each}}
      <div class="list-controls">
        <a {{action "addNewNote"}}>Add new note...</a>
      </div>
      <div class="list-controls">
        <a {{action "archiveList"}}>Archive</a>
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="note">
      {{#if editMode}}
        <form {{action "saveNote" on="submit"}}>
          {{text-editable value=text focus=true}}
          <div class="controls">
            <button type="submit">Save</button>
            <button {{action "cancel"}}>Cancel</button>
          </div>
        </form>
      {{else}}
        {{text}}
      {{/if}}
    </script>

  {% endraw %}

  {% include "scripts.html" %}

</body>

</html>
